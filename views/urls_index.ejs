<!DOCTYPE html>
<html lang="en">

<head>
    <% include ../partials/_header %>
</head>

<body>
    <ul>
        <% for(var shortURL in urls) { %>
            <h2>Shortened URL:
                <%= shortURL %>
            </h2>
            <li>Full URL:
                <%= urls[shortURL].longURL %>
            </li>
            <br>
            <li>Number of Visitors:
                <%= urls[shortURL].numVisited %>
            </li>
            <br>
            <li>Date Created:
                <%= urls[shortURL].dateCreated.toDateString() %>
            </li>
            <br>
            <li>Unique Visitors:
                <%= Object.keys(urls[shortURL].uniqueVisits).length; %>
            </li>
            <br>
            <li>Unique Visits:
                <br>
                <% for (let key in urls[shortURL].uniqueVisits) { %>
                    <%= key %>: <%= urls[shortURL].uniqueVisits[key] %>
                    <br>
                <% } %>
            </li>
            <br>
            <li>Hyperlink:
                <a href="localhost:8080/u/<%= shortURL %>">localhost:8080/u/<%= shortURL %></a>
            </li>
            <br>
            <li>
                <form method="POST" action="/urls/<%= shortURL %>/delete?_method=DELETE">
                    <label for="urlDelete">Delete URL:</label>
                    <input type="submit" value="Submit">
                </form>
            </li>
            <li>
                <a href="localhost:8080/urls/<%= shortURL %>">Edit</a>
            </li>
            <br>
            <% } %>
            <a href="localhost:8080/urls/new">Create a New Short Link</a>
    </ul>
</body>

</html>